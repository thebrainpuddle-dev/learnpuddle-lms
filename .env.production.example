# ═══════════════════════════════════════════════════════════════════════════
# LearnPuddle Production Environment
# ═══════════════════════════════════════════════════════════════════════════
# Copy to .env: cp .env.production.example .env
# Generate secrets: openssl rand -hex 50  (for SECRET_KEY, JWT_SIGNING_KEY)
#                   openssl rand -base64 24 (for DB_PASSWORD, REDIS_PASSWORD, FLOWER_PASSWORD)
# ═══════════════════════════════════════════════════════════════════════════

# ── Core (REQUIRED) ─────────────────────────────────────────────────────────
SECRET_KEY=
DEBUG=False

# ── Platform Domain (REQUIRED) ───────────────────────────────────────────────
PLATFORM_DOMAIN=learnpuddle.com
PLATFORM_NAME=LearnPuddle

# ── Database (REQUIRED) ─────────────────────────────────────────────────────
DB_NAME=learnpuddle_db
DB_USER=learnpuddle
DB_PASSWORD=

# ── Redis (REQUIRED) ────────────────────────────────────────────────────────
REDIS_PASSWORD=

# ── DigitalOcean Spaces (sgp1) ──────────────────────────────────────────────
STORAGE_BACKEND=s3
STORAGE_ACCESS_KEY=
STORAGE_SECRET_KEY=
STORAGE_BUCKET=learnpuddle-media
STORAGE_REGION=sgp1
STORAGE_ENDPOINT=https://sgp1.digitaloceanspaces.com
CDN_DOMAIN=learnpuddle-media.sgp1.cdn.digitaloceanspaces.com
# S3 transfer tuning for faster large uploads (web -> backend -> Spaces)
S3_MULTIPART_THRESHOLD_MB=16
S3_MULTIPART_CHUNK_SIZE_MB=8
S3_MAX_CONCURRENCY=12
S3_USE_THREADS=True

# ── Email (Resend) ─────────────────────────────────────────────────────────
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.resend.com
EMAIL_PORT=465
EMAIL_USE_TLS=False
EMAIL_USE_SSL=True
EMAIL_HOST_USER=resend
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=LearnPuddle <noreply@learnpuddle.com>
REMINDER_EMAIL_ENABLED=True
SEND_ONBOARDING_EMAIL=True
EMAIL_FAIL_SILENTLY=False

# ── JWT ───────────────────────────────────────────────────────────────────
JWT_SIGNING_KEY=

# ── Flower (Celery monitoring) ───────────────────────────────────────────────
FLOWER_USER=admin
FLOWER_PASSWORD=

# ── Video Processing (Optional tuning) ──────────────────────────────────────
# Smaller HLS segments improve startup/playback on weak networks.
HLS_SEGMENT_DURATION_SECONDS=4

# ── Frontend Marketing (Optional) ───────────────────────────────────────────
# Booking options:
# 1) Inline Cal embed (default):
# REACT_APP_BOOK_DEMO_MODE=cal_inline
# REACT_APP_BOOK_DEMO_CAL_LINK=learnpuddle-rj4uat/30min
# 2) External booking URL (fallback mode):
# REACT_APP_BOOK_DEMO_MODE=external
# REACT_APP_BOOK_DEMO_URL=
