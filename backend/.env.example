# backend/.env.example
# Copy to .env and fill in values: cp .env.example .env
# Generate secrets with: openssl rand -hex 50

# ── Core ────────────────────────────────────────────────────────────────
SECRET_KEY=
DEBUG=False  # Set True only for local development

# ── Platform Domain (SINGLE SOURCE OF TRUTH) ────────────────────────────
# All defaults (ALLOWED_HOSTS, cookies, CORS, email) derive from this.
# For local dev: PLATFORM_DOMAIN=localhost
# For production: PLATFORM_DOMAIN=learnpuddle.com
PLATFORM_DOMAIN=localhost
PLATFORM_NAME=LearnPuddle
ALLOWED_HOSTS=.learnpuddle.com,localhost

# ── Database ────────────────────────────────────────────────────────────
DB_NAME=learnpuddle_db
DB_USER=learnpuddle
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=5432

# ── Redis ───────────────────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/1
REDIS_PASSWORD=

# ── Storage (local or s3-compatible: DO Spaces, AWS S3, MinIO) ──────────
STORAGE_BACKEND=local
# STORAGE_ACCESS_KEY=
# STORAGE_SECRET_KEY=
# STORAGE_BUCKET=learnpuddle-media
# STORAGE_REGION=blr1
# STORAGE_ENDPOINT=https://blr1.digitaloceanspaces.com
# CDN_DOMAIN=learnpuddle-media.blr1.cdn.digitaloceanspaces.com

# ── Email ───────────────────────────────────────────────────────────────
# Dev: console backend (prints to terminal)
# Prod: use Resend (free 3000/mo), SendGrid, or any SMTP
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# EMAIL_HOST=smtp.resend.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=resend
# EMAIL_HOST_PASSWORD=
# DEFAULT_FROM_EMAIL=noreply@learnpuddle.com

# ── JWT ─────────────────────────────────────────────────────────────────
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=10080
# JWT_SIGNING_KEY=  # Separate from SECRET_KEY in production

# ── Celery ──────────────────────────────────────────────────────────────
CELERY_BROKER_URL=redis://localhost:6379/0

# ── Cookie / CORS / CSRF (auto-derived from PLATFORM_DOMAIN in prod) ───
# Only override these if you need non-default values:
# SESSION_COOKIE_DOMAIN=.learnpuddle.com
# CSRF_COOKIE_DOMAIN=.learnpuddle.com
# CORS_ALLOWED_ORIGIN_REGEX=^https://.*\.learnpuddle\.com$
# CSRF_TRUSTED_ORIGINS=https://*.learnpuddle.com,https://learnpuddle.com

# ── Monitoring (optional) ──────────────────────────────────────────────
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production

# ── SSO (optional) ─────────────────────────────────────────────────────
# GOOGLE_OAUTH_CLIENT_ID=
# GOOGLE_OAUTH_CLIENT_SECRET=
# SSO_ALLOWED_DOMAINS=school.edu,district.edu

# ── Flower (Celery monitoring) ─────────────────────────────────────────
# FLOWER_USER=admin
# FLOWER_PASSWORD=
